{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"lspcmd/main.go:76","msg":"lsp: starting up..."}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"lspcmd/main.go:83","msg":"lsp: starting gopls..."}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"lspcmd/main.go:96","msg":"creating gopls client"}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"lspcmd/main.go:101","msg":"creating proxy"}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"lspcmd/main.go:106","msg":"creating templ server"}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"lspcmd/main.go:115","msg":"starting debug http server","addr":"localhost:7474"}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"lspcmd/main.go:124","msg":"listening"}
{"level":"error","ts":"2024-09-08T18:54:22-05:00","caller":"lspcmd/main.go:119","msg":"web server failed","error":"listen tcp 127.0.0.1:7474: bind: address already in use","stacktrace":"github.com/a-h/templ/cmd/templ/lspcmd.run.func2\n\t/home/catgoose/go/pkg/mod/github.com/a-h/templ@v0.2.778/cmd/templ/lspcmd/main.go:119"}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"proxy/server.go:204","msg":"client -> server: Initialize"}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"proxy/server.go:234","msg":"client -> server: Initialize end"}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"proxy/server.go:238","msg":"client -> server: Initialized"}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"proxy/server.go:240","msg":"client -> server: Initialized end"}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"proxy/server.go:650","msg":"client -> server: DidOpen","uri":"file:///home/catgoose/git/templ_issue_repro/views/index.templ"}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"proxy/client.go:42","msg":"client <- server: WorkDoneProgressCreate"}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"proxy/server.go:674","msg":"setting source map cache contents","uri":"file:///home/catgoose/git/templ_issue_repro/views/index.templ"}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"proxy/server.go:681","msg":"client -> server: DidOpen end"}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"proxy/client.go:38","msg":"client <- server: Progress"}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"proxy/client.go:136","msg":"client <- server: Configuration"}
{"level":"info","ts":"2024-09-08T18:54:22-05:00","caller":"proxy/client.go:47","msg":"client <- server: LogMessage","message":"2024/09/08 18:54:22 Created View (#1)\n\tdirectory=/home/catgoose/git/templ_issue_repro\n\tview_type=\"GoMod\"\n\troot_dir=\"file:///home/catgoose/git/templ_issue_repro\"\n\tgo_version=\"go version go1.23.1 linux/amd64\"\n\tbuild_flags=[]\n\tenv={GOOS:linux GOARCH:amd64 GOCACHE:/home/catgoose/git/templ_issue_repro/.repro/cache/go-build GOMODCACHE:/home/catgoose/go/pkg/mod GOPATH:/home/catgoose/go GOPRIVATE: GOFLAGS: GO111MODULE: GOTOOLCHAIN:auto GoVersion:23 GoVersionOutput:go version go1.23.1 linux/amd64\n ExplicitGOWORK: EffectiveGOPACKAGESDRIVER:}\n\tenv_overlay=[]\n"}
{"level":"info","ts":"2024-09-08T18:54:25-05:00","caller":"proxy/client.go:47","msg":"client <- server: LogMessage","message":"2024/09/08 18:54:25 go/packages.Load #1\n\tview_id=\"1\"\n\tsnapshot=0\n\tdirectory=/home/catgoose/git/templ_issue_repro\n\tquery=[/home/catgoose/git/templ_issue_repro/... builtin]\n\tpackages=3\n\tduration=2.714829415s\n"}
{"level":"info","ts":"2024-09-08T18:54:25-05:00","caller":"proxy/server.go:541","msg":"client -> server: Definition"}
{"level":"info","ts":"2024-09-08T18:54:25-05:00","caller":"proxy/server.go:71","msg":"updatePosition: found","uri":"file:///home/catgoose/git/templ_issue_repro/views/index.templ","fromTempl":"6:4","toGo":"33:23"}
{"level":"info","ts":"2024-09-08T18:54:25-05:00","caller":"proxy/client.go:38","msg":"client <- server: Progress"}
{"level":"info","ts":"2024-09-08T18:54:26-05:00","caller":"proxy/server.go:564","msg":"client -> server: Definition end"}
{"level":"info","ts":"2024-09-08T18:54:26-05:00","caller":"proxy/client.go:52","msg":"client <- server: PublishDiagnostics"}
{"level":"info","ts":"2024-09-08T18:54:52-05:00","caller":"proxy/client.go:47","msg":"client <- server: LogMessage","message":"2024/09/08 18:54:52 background imports cache refresh starting\n"}
{"level":"info","ts":"2024-09-08T18:54:53-05:00","caller":"proxy/client.go:47","msg":"client <- server: LogMessage","message":"2024/09/08 18:54:53 background refresh finished after 104.411894ms\n"}
{"level":"info","ts":"2024-09-08T18:55:14-05:00","caller":"proxy/server.go:244","msg":"client -> server: Shutdown"}
{"level":"info","ts":"2024-09-08T18:55:14-05:00","caller":"lspcmd/stdrwc.go:36","msg":"rwc: closing","name":"templStream"}
{"level":"info","ts":"2024-09-08T18:55:14-05:00","caller":"lspcmd/main.go:130","msg":"templConn closed"}
{"level":"info","ts":"2024-09-08T18:55:14-05:00","caller":"lspcmd/main.go:134","msg":"shutdown complete"}
{"level":"info","ts":"2024-09-08T18:55:14-05:00","caller":"lspcmd/stdrwc.go:36","msg":"rwc: closing","name":"templStream"}
{"level":"error","ts":"2024-09-08T18:55:14-05:00","caller":"lspcmd/stdrwc.go:40","msg":"rwc: error closing reader","name":"templStream","error":"close /dev/stdin: file already closed","stacktrace":"github.com/a-h/templ/cmd/templ/lspcmd.stdrwc.Close\n\t/home/catgoose/go/pkg/mod/github.com/a-h/templ@v0.2.778/cmd/templ/lspcmd/stdrwc.go:40\ngo.lsp.dev/jsonrpc2.(*stream).Close\n\t/home/catgoose/go/pkg/mod/go.lsp.dev/jsonrpc2@v0.10.0/stream.go:225\ngo.lsp.dev/jsonrpc2.(*conn).Close\n\t/home/catgoose/go/pkg/mod/go.lsp.dev/jsonrpc2@v0.10.0/conn.go:225\ngithub.com/a-h/templ/cmd/templ/lspcmd.run\n\t/home/catgoose/go/pkg/mod/github.com/a-h/templ@v0.2.778/cmd/templ/lspcmd/main.go:135\ngithub.com/a-h/templ/cmd/templ/lspcmd.Run\n\t/home/catgoose/go/pkg/mod/github.com/a-h/templ@v0.2.778/cmd/templ/lspcmd/main.go:72\nmain.lspCmd\n\t/home/catgoose/go/pkg/mod/github.com/a-h/templ@v0.2.778/cmd/templ/main.go:374\nmain.run\n\t/home/catgoose/go/pkg/mod/github.com/a-h/templ@v0.2.778/cmd/templ/main.go:56\nmain.main\n\t/home/catgoose/go/pkg/mod/github.com/a-h/templ@v0.2.778/cmd/templ/main.go:23\nruntime.main\n\t/usr/local/go1.23.1.linux-amd64/src/runtime/proc.go:272"}
{"level":"error","ts":"2024-09-08T18:55:14-05:00","caller":"lspcmd/stdrwc.go:46","msg":"rwc: error closing writer","name":"templStream","error":"close /dev/stdout: file already closed","stacktrace":"github.com/a-h/templ/cmd/templ/lspcmd.stdrwc.Close\n\t/home/catgoose/go/pkg/mod/github.com/a-h/templ@v0.2.778/cmd/templ/lspcmd/stdrwc.go:46\ngo.lsp.dev/jsonrpc2.(*stream).Close\n\t/home/catgoose/go/pkg/mod/go.lsp.dev/jsonrpc2@v0.10.0/stream.go:225\ngo.lsp.dev/jsonrpc2.(*conn).Close\n\t/home/catgoose/go/pkg/mod/go.lsp.dev/jsonrpc2@v0.10.0/conn.go:225\ngithub.com/a-h/templ/cmd/templ/lspcmd.run\n\t/home/catgoose/go/pkg/mod/github.com/a-h/templ@v0.2.778/cmd/templ/lspcmd/main.go:135\ngithub.com/a-h/templ/cmd/templ/lspcmd.Run\n\t/home/catgoose/go/pkg/mod/github.com/a-h/templ@v0.2.778/cmd/templ/lspcmd/main.go:72\nmain.lspCmd\n\t/home/catgoose/go/pkg/mod/github.com/a-h/templ@v0.2.778/cmd/templ/main.go:374\nmain.run\n\t/home/catgoose/go/pkg/mod/github.com/a-h/templ@v0.2.778/cmd/templ/main.go:56\nmain.main\n\t/home/catgoose/go/pkg/mod/github.com/a-h/templ@v0.2.778/cmd/templ/main.go:23\nruntime.main\n\t/usr/local/go1.23.1.linux-amd64/src/runtime/proc.go:272"}
